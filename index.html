<!DOCTYPE html>
<html>
<title>소거록</title>
<head>
	<style>

	@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");

	body{background: url(https://media3.giphy.com/media/1sSiLg7RgO81i/giphy.gif?cid=6c09b952qt2p89veu8y8gxd8yslmvwdwfdn9l0b40mhhmdps&ep=v1_internal_gif_by_id&rid=giphy.gif&ct=g); background-size: cover;color: white; margin: auto;}

	.wrap{padding: 50px; margin: auto; text-align: center; align-items: center; position: relative;}

	h2{font-size: 20px; font-weight: semibold}

	p{font-size: 15px; font-weight: regular; line-height: 160%; padding: 40px;}

	h1{font-style: italic; font-size: 30px; font-weight: medium; margin: auto;}

.image-container {
  position: relative;
}

.base-image,
.flash-image {
	position: absolute;
  left: 240px;
  margin: auto;
  width: 70%;
  display: block;
  transition: opacity 0.3s;
}

/* 초기 상태 */
.flash-image {
  opacity: 0;
  pointer-events: none;
}

.flash-on {
  animation: flash-effect 0.6s steps(1) 4; /* steps(1): 딱딱 끊기는 느낌 */
  animation-fill-mode: forwards;
}

@keyframes flash-effect {
  0%   { opacity: 0; filter: brightness(1); transform: none; }
  25%  { opacity: 1; filter: brightness(2.8); transform: translate(1px, -1px); }
  50%  { opacity: 0; filter: brightness(1); transform: none; }
  75%  { opacity: 1; filter: brightness(3); transform: translate(-1px, 1px); }
  100% { opacity: 1; filter: brightness(1.5); transform: none; }
}
}

/* 깜빡이기 끝난 후 base 이미지 숨기기 */
.hide-base {
  opacity: 0;
}


    a{
      font-size: 25px;
      background-color: black;
      color: white;
      display: inline-block;
      padding: 15px 25px;
      cursor: pointer;
      line-height: 1.6;
      text-decoration: none;
      marker: none;
  }

         ul{
      list-style-type: none; 
      margin: auto;
      marker: none;
      padding: 0;
    }


    ul li a {
      text-decoration: none; 
      font-weight: 600;
      color: black;
      background: white;
      border: 1px solid black;
      cursor: pointer;
    }

    ul li a:hover{
      background: black; 
      color: white; 
      transition: all 0.5s}


  	.button{
      gap: 310px;
      align-items: center;
      margin: auto;
  }

</style>
</head>

<body>
	<section class="wrap" style="background: black;">
		<h2>주의사항</h2>
		<p>사고 현장, 상처 등 다소 폭력적인 이미지가 등장합니다.<br>열람에 주의해 주시기 바랍니다.</p>
	</section>
	<section class="wrap" style="padding: 50px;">
		<img src="intro.gif" style="width: 70%;">
	</section>
	<section class="wrap">
	<h1>"...야, 저게 다 무슨 소리야?"</h1>
  <p>나는 옆 친구를 건드려 물었다.<br>숙면을 취하고 있던 친구는 잘 떠지지도 않는 눈으로 스크린을 힐끗 올려다보더니,<br>나도 모른다는 잠꼬대같은 대답만 뱉었다.</p>
  <p>그리고 얼마 되지 않아서...</p>
	</section>
	<section class="wrap">
		<div class="image-container">
  <img src="train.png" class="base-image" />
  <img src="teeth.png" class="flash-image" />
    <img src="teeth.png" style="width: 50%;" class="flash-image" />
</div>
<script>
  const flashImg = document.querySelector(".flash-image");
  const baseImg = document.querySelector(".base-image");
  const container = document.querySelector(".image-container");

 const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    const currentScrollY = window.scrollY;

    if (entry.isIntersecting) {

      flashImg.classList.remove("flash-on");
      baseImg.classList.remove("hide-base");
      flashImg.style.opacity = "0";
      void flashImg.offsetWidth;

      flashImg.classList.add("flash-on");

      setTimeout(() => {
        baseImg.classList.add("hide-base");
        flashImg.style.opacity = "1";
      }, 600);
    } else {
 
      if (currentScrollY < lastScrollY) {
        flashImg.style.opacity = "0";
        flashImg.classList.remove("flash-on");
        baseImg.classList.remove("hide-base");
      }
    }

    lastScrollY = currentScrollY; 
  });
}, {
  threshold: 0.5
});
  observer.observe(container);
</script>
</section>
<section class="wrap" style="padding-top: 600px; padding-bottom: 80px;">
  <p style="padding-bottom: 100px;">뉴스 내용을 증명하듯 기차는 아수라장이 되었다.</p>
        <ul class="button">
    <li><a href="index2.html">기차에서 빠져나가자.</a></li>
    </ul>
</section>
</body>

</html>